<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Kubernetes DNS 介绍 | xigang's home</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Kubernetes DNS 介绍</h1><a id="logo" href="/.">xigang's home</a><p class="description">Do it right or don't do it at all</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Kubernetes DNS 介绍</h1><div class="post-meta">Nov 24, 2018<span> | </span><span class="category"><a href="/categories/network/">network</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="post-content"><p>为了能高效的训练机器学习模型,最近在调研<a href="https://www.kubeflow.org/" target="_blank" rel="noopener">kubeflow</a>结合kubernetes实现模型的多机多卡分布式训练，在部署<code>kubeflow</code>环境时，用到了<code>kube-dns</code>这个组件，便准备深入的了解下<code>kube-dns</code>的安装及原理。</p>
<h2 id="DNS-介绍"><a href="#DNS-介绍" class="headerlink" title="DNS 介绍"></a>DNS 介绍</h2><p>DNS 为域名系统(Domain Name System)的缩写。DNS是一种组织成域层结构的计算机和网络服务命名系统，用于<code>TCP/IP</code>网络，主要用来寻找Internet域名 (如<a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a>) 并转化为IP地址 (如:10.1.1.1) 以定位相应的计算机和服务。</p>
<p>关于<code>DNS</code>原理的介绍，请看阮老师的: <a href="http://www.ruanyifeng.com/blog/2016/06/dns.html?20160616212404#comment-last" target="_blank" rel="noopener">DNS 原理入门</a></p>
<h2 id="kube-dns-介绍"><a href="#kube-dns-介绍" class="headerlink" title="kube-dns 介绍"></a>kube-dns 介绍</h2><p>kubernetes DNS 的主要作用是为集群提供一种服务发现机制，让集群中的DNS Pod通过访问Service Name的方式去访问目标期望的Pod服务。</p>
<ul>
<li>如果访问的Service Name是正常的，则DNS pod会解析<code>/etc/resolv.conf</code>文件找到DNS Server,并获取Service Name对用的IP记录。通过这个IP记录去访问该IP(Service Cluster IP)下的某一个具体的Pod IP。</li>
<li>如果访问的Service Name是Headless Service，同样DNS Pod会解析<code>/etc/resolv.conf</code>文件找到DNS Server,但是会被直接解析到该Service下的某一个指定的Pod IP。</li>
</ul>
<p>当前kuberntes支持的DNS格式:</p>
<ul>
<li>Service<ul>
<li>A record: 生成<code>my-svc.my-namespace.svc.cluster.local</code>,解析IP分为两种情况<ul>
<li>普通的Service 解析为Cluster IP</li>
<li>Headless Service 解析为指定的Pod IP列表 </li>
</ul>
</li>
</ul>
</li>
<li>Pod<ul>
<li>A record: pod-ip-address.my-namespace.pod.cluster.local</li>
<li>指定 hostname 和 subdomain: hostname.custom-subdomain.default.svc.cluster.local</li>
</ul>
</li>
</ul>
<p>关于 kube-dns 的详细内容: <a href="https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/" target="_blank" rel="noopener">DNS for Services and Pods</a><br>关于 Service 的详细内容: <a href="https://kubernetes.io/docs/concepts/services-networking/service/" target="_blank" rel="noopener">Service</a></p>
<h2 id="kube-dns-安装"><a href="#kube-dns-安装" class="headerlink" title="kube-dns 安装"></a>kube-dns 安装</h2><p>官方安装文档: <a href="https://github.com/kubernetes/kubernetes/tree/master/cluster/addons/dns/kube-dns">kube-dns</a></p>
<p>下载kube-dns.yaml文件,并修改文件中的<code>$DNS_SERVER_IP</code>和<code>$DNS_DOMAIN</code>参数:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> wget https://github.com/kubernetes/kubernetes/blob/master/cluster/addons/dns/kube-dns/kube-dns.yaml.sed -O kube-dns.yaml</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> sed -i <span class="string">'s/$DNS_SERVER_IP/192.168.0.2/gi'</span> kube-dns.yaml</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> sed -i <span class="string">'s/$DNS_DOMAIN/cluster.local/gi'</span> kube-dns.yaml</span></span><br></pre></td></tr></table></figure>
<p>同时需要将kubernetes集群中所有的计算节点的kubelet配置增加如下两个参数:</p>
<ul>
<li>cluster-dns: DNS服务器IP(如:192.168.0.2)</li>
<li>cluster-domain: 设置成<code>cluster.local</code>即可。</li>
</ul>
<p>当上面的准备工作完成之后，开始创建kube-dns服务，并检查服务是否正常启动:</p>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kubectl create -f kube-dns.yaml</span></span><br><span class="line"><span class="comment"># kubectl  get deployment -n kube-system</span></span><br><span class="line">NAME       DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">kube-dns  <span class="number"> 1 </span>       <span class="number"> 1 </span>       <span class="number"> 1 </span>          <span class="number"> 1 </span>          2d7h</span><br></pre></td></tr></table></figure>
<p>ok, kube-dns 启动成功后，kube-dns Pod中会包含3个容器:</p>
<ul>
<li><code>kube-dns</code>: <code>kube-dns</code> 进程监视 kubernetes master中的Service和Endpoint的变化，并维护内存查找结构来服务DNS请求。</li>
<li><code>dnsmasq</code>: <code>dnsmasq</code> 容器添加DNS缓存以提高性能。</li>
<li><code>healthz</code>: <code>healthz</code> 容器在执行双重健康检查(针对<code>dnsmasq</code>和<code>kube-dns</code>)时提供单个健康检查端点。</li>
</ul>
<h2 id="验证kube-DNS-服务"><a href="#验证kube-DNS-服务" class="headerlink" title="验证kube DNS 服务"></a>验证kube DNS 服务</h2><p>当kube-dns服务创建成功之后，验证kube DNS服务是否能正常工作。</p>
<p>1.根据dp.yaml文件创建一个deployment资源对象，并检查服务是否创建成功:</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">apiVersion</span>: extensions/v1beta1</span><br><span class="line"><span class="attribute">kind</span>: Deployment</span><br><span class="line"><span class="attribute">metadata</span>:</span><br><span class="line">  <span class="attribute">name</span>: ngnix-deployment-<span class="number">15</span></span><br><span class="line"><span class="attribute">spec</span>:</span><br><span class="line">  <span class="attribute">revisionHistoryLimit</span>: <span class="number">3</span></span><br><span class="line">  <span class="attribute">minReadySeconds</span>: <span class="number">5</span></span><br><span class="line">  <span class="attribute">strategy</span>:</span><br><span class="line">    <span class="attribute">type</span>: RollingUpdate</span><br><span class="line">    <span class="attribute">rollingUpdate</span>:</span><br><span class="line">      <span class="attribute">maxSurge</span>: <span class="number">1</span></span><br><span class="line">      <span class="attribute">maxUnavailable</span>: <span class="number">1</span></span><br><span class="line">  <span class="attribute">replicas</span>: <span class="number">2</span></span><br><span class="line">  <span class="attribute">template</span>:</span><br><span class="line">    <span class="attribute">metadata</span>:</span><br><span class="line">      <span class="attribute">labels</span>:</span><br><span class="line">        <span class="attribute">app</span>: nginx</span><br><span class="line">    <span class="attribute">spec</span>:</span><br><span class="line">      <span class="attribute">containers</span>:</span><br><span class="line">      - <span class="attribute">name</span>: nginx</span><br><span class="line">        <span class="attribute">image</span>: nginx</span><br></pre></td></tr></table></figure>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># kubectl  create -f dp.yaml </span><br><span class="line">deployment <span class="string">"ngnix-deployment-15"</span> created</span><br><span class="line"># kubectl  get deployment</span><br><span class="line">NAME                  DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">ngnix-deployment<span class="number">-15</span>   <span class="number">2</span>         <span class="number">2</span>         <span class="number">2</span>            <span class="number">2</span>           <span class="number">101</span>s</span><br><span class="line"># kubectl  get pods      </span><br><span class="line">NAME                                  READY   STATUS    RESTARTS   AGE</span><br><span class="line">ngnix-deployment<span class="number">-15</span><span class="number">-55</span>bd7c9fd-bm5vg   <span class="number">1</span>/<span class="number">1</span>     Running   <span class="number">0</span>          <span class="number">101</span>s</span><br><span class="line">ngnix-deployment<span class="number">-15</span><span class="number">-55</span>bd7c9fd-lz75v   <span class="number">1</span>/<span class="number">1</span>     Running   <span class="number">0</span>          <span class="number">101</span>s</span><br></pre></td></tr></table></figure>
<p>2.根据svc.yaml文件创建service资源对象，并检查服务是否创建成功:</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">kind</span>: Service</span><br><span class="line"><span class="attribute">apiVersion</span>: v1</span><br><span class="line"><span class="attribute">metadata</span>:</span><br><span class="line">  <span class="attribute">name</span>: nginx-service</span><br><span class="line"><span class="attribute">spec</span>:</span><br><span class="line">  <span class="attribute">selector</span>:</span><br><span class="line">    <span class="attribute">app</span>: nginx</span><br><span class="line">  <span class="attribute">ports</span>:</span><br><span class="line">    - <span class="attribute">protocol</span>: TCP</span><br><span class="line">      <span class="attribute">port</span>: <span class="number">80</span></span><br><span class="line">      <span class="attribute">targetPort</span>: <span class="number">80</span></span><br><span class="line">  <span class="attribute">type</span>: ClusterIP</span><br></pre></td></tr></table></figure>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kubectl  create -f svc.yaml </span></span><br><span class="line">service <span class="string">"nginx-service"</span> created</span><br><span class="line"><span class="comment"># kubectl  get svc</span></span><br><span class="line">NAME           <span class="built_in"> TYPE </span>       CLUSTER-IP        EXTERNAL-IP   PORT(S)   AGE</span><br><span class="line">kubernetes      ClusterIP   192.168.0.1       &lt;none&gt;        443/TCP   3d4h</span><br><span class="line">nginx-service   ClusterIP   192.168.212.156   &lt;none&gt;        80/TCP    11s</span><br></pre></td></tr></table></figure>
<p>当deployment和service创建成功之后，进入一个容器中查看<code>/etc/resolv.conf</code>文件是否生效:</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># kubectl  exec -it ngnix-deployment-15-55bd7c9fd-bm5vg bash</span></span><br><span class="line">root<span class="symbol">@ngnix</span>-deployment<span class="number">-15</span><span class="number">-55</span>bd7c9fd-bm5vg:/<span class="meta"># cat /etc/resolv.conf </span></span><br><span class="line">nameserver <span class="number">192.168</span><span class="number">.0</span><span class="number">.2</span></span><br><span class="line">search <span class="keyword">default</span>.svc.cluster.<span class="keyword">local</span> svc.cluster.<span class="keyword">local</span> cluster.<span class="keyword">local</span></span><br><span class="line">options ndots:<span class="number">5</span></span><br><span class="line"></span><br><span class="line">root<span class="symbol">@ngnix</span>-deployment<span class="number">-15</span><span class="number">-55</span>bd7c9fd-bm5vg:/<span class="meta"># nslookup kubernetes.default</span></span><br><span class="line">Server:         <span class="number">192.168</span><span class="number">.0</span><span class="number">.2</span></span><br><span class="line">Address:        <span class="number">192.168</span><span class="number">.0</span><span class="number">.2</span><span class="meta">#53</span></span><br><span class="line"></span><br><span class="line">Name:   kubernetes.<span class="keyword">default</span>.svc.cluster.<span class="keyword">local</span></span><br><span class="line">Address: <span class="number">192.168</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line"></span><br><span class="line">root<span class="symbol">@ngnix</span>-deployment<span class="number">-15</span><span class="number">-55</span>bd7c9fd-bm5vg:/<span class="meta"># curl http://kubernetes:443</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ok,接下来我们创建另一个pod,并通过这个pod以<code>Service Name</code>的方式去访问名称为: <code>ngnix-deployment-15-55bd7c9fd-bm5vg</code> 的Pod，看看是否能通:</p>
<p>pod.yaml测试文件:</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">apiVersion</span>: v1</span><br><span class="line"><span class="attribute">kind</span>: Pod</span><br><span class="line"><span class="attribute">metadata</span>:</span><br><span class="line">  <span class="attribute">name</span>: nginx</span><br><span class="line">  <span class="attribute">labels</span>:</span><br><span class="line">    <span class="attribute">name</span>: nginx</span><br><span class="line"><span class="attribute">spec</span>:</span><br><span class="line">  <span class="attribute">containers</span>:</span><br><span class="line">  - <span class="attribute">name</span>: nginx</span><br><span class="line">    <span class="attribute">image</span>: nginx</span><br><span class="line">    <span class="attribute">ports</span>:</span><br><span class="line">    - <span class="attribute">containerPort</span>: <span class="number">80</span></span><br></pre></td></tr></table></figure>
<p>查看pod是否创建成功，如果成功,则进入到容器中，通过该容器访问关联在另一个Service下的Pod:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"># kubectl  get pods</span><br><span class="line">NAME                                  READY   STATUS    RESTARTS   AGE</span><br><span class="line">nginx                                 1/1     Running   0          4s</span><br><span class="line"># kubectl exec -it nginx bash</span><br><span class="line">root@nginx:/# cat /etc/resolv.conf</span><br><span class="line">nameserver 192.168.0.2</span><br><span class="line">search default.svc.cluster.local svc.cluster.local cluster.local</span><br><span class="line">options ndots:5</span><br><span class="line"></span><br><span class="line">oot@nginx:/# curl http://nginx-service:80</span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Welcome to nginx!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    body &#123;</span></span><br><span class="line"><span class="undefined">        width: 35em;</span></span><br><span class="line"><span class="undefined">        margin: 0 auto;</span></span><br><span class="line"><span class="undefined">        font-family: Tahoma, Verdana, Arial, sans-serif;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Welcome to nginx!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>If you see this page, the nginx web server is successfully installed and</span><br><span class="line">working. Further configuration is required.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>For online documentation and support please refer to</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://nginx.org/"</span>&gt;</span>nginx.org<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">Commercial support is available at</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://nginx.com/"</span>&gt;</span>nginx.com<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">em</span>&gt;</span>Thank you for using nginx.<span class="tag">&lt;/<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ok,一切正常：）</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/" target="_blank" rel="noopener">https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/</a></li>
<li><a href="https://github.com/kubernetes/kubernetes/tree/master/cluster/addons/dns">https://github.com/kubernetes/kubernetes/tree/master/cluster/addons/dns</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2016/06/dns.html?20160616212404#comment-last" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2016/06/dns.html?20160616212404#comment-last</a></li>
<li><a href="https://feisky.gitbooks.io/kubernetes/components/kube-dns.html" target="_blank" rel="noopener">https://feisky.gitbooks.io/kubernetes/components/kube-dns.html</a></li>
</ul>
</div><div class="tags"><a href="/tags/kubernetes/">kubernetes</a><a href="/tags/dns/">dns</a><a href="/tags/kube-dns/">kube-dns</a></div><div class="post-nav"><a class="pre" href="/2018/12/08/kubeflow-intro/">Kubeflow使用Kubernetes进行机器学习</a><a class="next" href="/2018/11/08/nvidia-container-runtime/">深入理解 Nvidia-docker2.0</a></div><div id="container"></div><link rel="stylesheet" type="text/css" href="//unpkg.com/gitalk/dist/gitalk.css?v=0.0.0"><script type="text/javascript" src="//cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js?v=0.0.0"></script><script type="text/javascript" src="//unpkg.com/gitalk/dist/gitalk.min.js?v=0.0.0"></script><script>var gitalk = new Gitalk({
  clientID: '86d1945e3a9358946043',
  clientSecret: '304f48ee3394ae5dab75d19a966506e170d850f6',
  repo: 'xigang.github.io',
  owner: 'xigang',
  admin: ['xigang'],
  id: md5(location.pathname),
  distractionFreeMode: false
})
gitalk.render('container')
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="https://github.com/xigang"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/etcd/">etcd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/kubernetes/">kubernetes</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/microservices/">microservices</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/network/">network</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/日志监控/">日志监控</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/机器学习/">机器学习</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/network/" style="font-size: 15px;">network</a> <a href="/tags/kubernetes/" style="font-size: 15px;">kubernetes</a> <a href="/tags/kapacitor/" style="font-size: 15px;">kapacitor</a> <a href="/tags/alertmanager/" style="font-size: 15px;">alertmanager</a> <a href="/tags/bosun/" style="font-size: 15px;">bosun</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/cgroup/" style="font-size: 15px;">cgroup</a> <a href="/tags/kernel/" style="font-size: 15px;">kernel</a> <a href="/tags/ceph/" style="font-size: 15px;">ceph</a> <a href="/tags/dns/" style="font-size: 15px;">dns</a> <a href="/tags/coredns/" style="font-size: 15px;">coredns</a> <a href="/tags/prometheus/" style="font-size: 15px;">prometheus</a> <a href="/tags/etcd/" style="font-size: 15px;">etcd</a> <a href="/tags/kubeflow/" style="font-size: 15px;">kubeflow</a> <a href="/tags/scheduler/" style="font-size: 15px;">scheduler</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/kube-dns/" style="font-size: 15px;">kube-dns</a> <a href="/tags/ipvs/" style="font-size: 15px;">ipvs</a> <a href="/tags/iptables/" style="font-size: 15px;">iptables</a> <a href="/tags/netfilter/" style="font-size: 15px;">netfilter</a> <a href="/tags/microservices/" style="font-size: 15px;">microservices</a> <a href="/tags/mxnet/" style="font-size: 15px;">mxnet</a> <a href="/tags/tensorflow/" style="font-size: 15px;">tensorflow</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/08/25/coredns/">CoreDNS源码分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/22/dns/">A DNS Refresher</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/28/kube-proxy-source-code/">Kube-Proxy  IPVS模式源码分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/21/kubernetes-service/">浅谈Kubernetes Service负载均衡实现机制</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/01/cgroupv2/">CGROUPS VERSION 2</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/11/bosun/">Prometheus基于bosun框架进行告警</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/09/container-resource-metrics/">A Deep Dive Into Kubernetes Metrics - Container Resource Metrics</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/15/metrics-servere/">Kubernetes Metrics-Server介绍及源码分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/17/gang-scheduler/">适合AI场景的调度器 - Gang-Schedule</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/30/tensorflow/">Tensorflow结合kubeflow进行分布式训练</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://gogap.cn/" title="gogap" target="_blank">gogap</a><ul></ul><a href="http://www.0x7c00.net/" title="31744" target="_blank">31744</a><ul></ul><a href="https://www.opsdev.cn/" title="360opsdev" target="_blank">360opsdev</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">xigang's home.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>